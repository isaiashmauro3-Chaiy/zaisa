<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZAISA - Detalles Eternos</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Playfair+Display:ital@0;1&family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>

    <header>
        <div class="header-container">
            <div class="brand-wrapper">
                <img src="logo_zaisa.jpg" alt="ZAISA Logo" class="logo-img">
                <div class="brand-text">
                    <h1>ZAISA</h1>
                    <p class="tagline">Detalles Eternos • Lo eterno es mejor</p>
                </div>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h2>Ramos de listón que capturan momentos para siempre.</h2>
        </div>
    </section>

    <main class="container">
        <h2 class="section-title">Nuestras Creaciones</h2>
        
        <div class="grid" id="grid-productos"></div>

        <section class="why-choose">
            <h2 class="section-title">¿Por qué elegir flores de listón?</h2>
            <div class="features-grid">
                <div class="feature-item" style="animation-delay: 0.2s">
                    <div class="feature-icon">
                        <svg width="40" height="40" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.68 5.792 7.345 7.75 5.681 9.708a2.75 2.75 0 1 1 0-3.916ZM8 6.978 6.416 5.113l-.014-.015a3.75 3.75 0 1 0 0 5.304l.053-.024L8 8.522l1.546 1.856.053.024a3.75 3.75 0 1 0 0-5.304l-.014.015L8 6.978Zm.656.772 1.663-1.958a2.75 2.75 0 1 1 0 3.916L8.656 7.75Z"/></svg>
                    </div>
                    <h3>Durabilidad</h3>
                    <p>Un detalle que dura para siempre, igual que tus momentos.</p>
                </div>
                <div class="feature-item" style="animation-delay: 0.4s">
                    <div class="feature-icon">
                        <svg width="40" height="40" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"/></svg>
                    </div>
                    <h3>Hipoalergénicas</h3>
                    <p>Ideales para personas con alergias. Sin polen, solo belleza.</p>
                </div>
                <div class="feature-item" style="animation-delay: 0.6s">
                    <div class="feature-icon">
                        <svg width="40" height="40" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.169.868-.202.611-.554 1.259-1.098 1.737C4.658 16.06 3.48 16 2.5 16c-1.03 0-1.523-.504-1.791-1.024-.26-.506-.27-1.15-.14-1.742.16-.73.55-1.354.962-1.832a6.14 6.14 0 0 1 1.135-1.036 6.889 6.889 0 0 1 2.153-1.154c2.502-2.379 7.234-5.57 10.654-7.092a.5.5 0 0 1 .352 0z"/></svg>
                    </div>
                    <h3>Personalización</h3>
                    <p>Puedes elegir colores exactos que no existen en la naturaleza.</p>
                </div>
            </div>
        </section>

        <section id="galeria-rosas">
            <h2 class="section-title">Galería de Rosas</h2>
            <div class="center-card-container">
                <div class="tilt-card">
                    <div class="tilt-card-front" style="background-image: url('imagenes/rosa1.jpeg');"></div>
                    <div class="tilt-card-back" style="background-image: url('imagenes/rosa2.jpeg');"></div>
                </div>
            </div>
            <div id="image-container"></div>
        </section>

        <section class="faq-section">
            <h2 class="section-title">Preguntas Frecuentes</h2>
            <div class="faq-container">
                <details class="faq-item">
                    <summary>¿Con cuántos días de anticipación debo pedir?</summary>
                    <p>Como cada ramo es hecho a mano con dedicación, te recomendamos realizar tu pedido con al menos <strong>3 a 5 días de anticipación</strong>. Para fechas especiales, sugerimos pedir con 2 semanas de antelación.</p>
                </details>
                <details class="faq-item">
                    <summary>¿Hacen envíos a domicilio o entregas en puntos medios?</summary>
                    <p>¡Ambos! Realizamos entregas personales en puntos medios acordados de la ciudad sin costo extra. También contamos con servicio a domicilio con un costo adicional dependiendo de tu ubicación.</p>
                </details>
                <details class="faq-item">
                    <summary>¿Qué métodos de pago aceptan?</summary>
                    <p>Para confirmar tu pedido solicitamos un anticipo del 50%. Aceptamos transferencias bancarias, depósitos en OXXO y pago en efectivo. El resto se liquida al momento de la entrega.</p>
                </details>
            </div>
        </section>
    </main>

    <footer>
        <div class="social-links">
            <a href="https://www.instagram.com/zaisa24/" target="_blank" class="social-icon" aria-label="Instagram">
                <svg width="24" height="24" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.281.11-.705.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"/></svg>
            </a>
        </div>
        <p>&copy; 2026 ZAISA Detalles Eternos</p>
    </footer>

    <script>
        // --- 1. LÓGICA DE LA ANIMACIÓN (CONTROLADOR GLOBAL) ---
        class RadioButtonEffect {
            constructor(radioBtnGroups) {
                this.previousRadioBtn = null;
                
                radioBtnGroups.forEach((group) => {
                    const radioBtn = gsap.utils.selector(group)("input[type='radio']")[0];
                    
                    radioBtn.addEventListener("change", () => {
                        const nodes = this.getNodes(radioBtn);
                        
                        // Si había uno seleccionado antes (aunque sea en otra tarjeta), lo apagamos
                        if (this.previousRadioBtn && this.previousRadioBtn !== radioBtn) {
                            this.changeEffect(this.getNodes(this.previousRadioBtn), false);
                        }
                        
                        // Encendemos el nuevo
                        this.changeEffect(nodes, true);
                        
                        // Guardamos este como el "nuevo anterior"
                        this.previousRadioBtn = radioBtn;
                        
                        // Actualizar WhatsApp
                        updateWhatsAppLink(radioBtn);
                    });
                });
            }

            getNodes(radioBtn) {
                const container = radioBtn.closest(".radio-btn-group");
                return [
                    gsap.utils.shuffle(gsap.utils.selector(container)(".blue rect")),
                    gsap.utils.shuffle(gsap.utils.selector(container)(".pink rect"))
                ];
            }

            changeEffect(nodes, isChecked) {
                gsap.to(nodes[0], {
                    duration: 1.6,
                    ease: "elastic.out(1, 0.3)",
                    xPercent: isChecked ? "100" : "-100",
                    stagger: 0.01,
                    overwrite: true,
                    delay: 0.13
                });
                gsap.to(nodes[1], {
                    duration: 1.6,
                    ease: "elastic.out(1, 0.3)",
                    xPercent: isChecked ? "100" : "-100",
                    stagger: 0.01,
                    overwrite: true
                });
            }
        }

        // --- 2. GENERADOR DE TARJETAS ---
        const gridContainer = document.getElementById("grid-productos");
        
        const productos = [
            { id: 1, titulo: "Ramo Clásico Rosa" },
            { id: 2, titulo: "Ramo Azul Cielo" },
            { id: 3, titulo: "Edición Especial" },
            { id: 4, titulo: "Ramo Pasión" },
            { id: 5, titulo: "Azul Real con Mariposas" },
            { id: 6, titulo: "Edición Princesa Tiana" },
            { id: 7, titulo: "Especial Graduación" },
            { id: 8, titulo: "Detalle Romántico" },
            { id: 9, titulo: "Amarillo Solar" },
            { id: 10, titulo: "Cuadros Personalizados" },
            { id: 11, titulo: "Bicolor Intenso" },
            { id: 12, titulo: "Tejidos & Crochet" },
            { id: 13, titulo: "Ramo Buchón Billetes" },
            { id: 14, titulo: "Ramo Luminoso LED" },
            { id: 15, titulo: "Diseño Sorpresa" },
            { id: 16, titulo: "Ramo Elegancia" },
            { id: 17, titulo: "Edición Deluxe" },
            { id: 18, titulo: "Detalle Único" },
            { id: 19, titulo: "Colección Nueva" },
            { id: 20, titulo: "Pedido Especial" }
        ];

        // Plantilla SVG reutilizable
        const svgBars = `
            <svg height="100%" width="100%" xmlns="http://www.w3.org/2000/svg">
                <g class="pink">
                    ${[0,5,10,15,20,25,30,35,40,45].map(y => `<rect x="-100%" y="${y}" width="100%" height="5" />`).join('')}
                </g>
                <g class="blue">
                    ${[0,5,10,15,20,25,30,35,40,45].map(y => `<rect x="-100%" y="${y}" width="100%" height="5" />`).join('')}
                </g>
            </svg>
        `;

        // Generar HTML
        let allCardsHTML = "";
        productos.forEach(prod => {
            let botonesHTML = "";
            
            // Excluir ID 10 (Cuadros) y ID 13 (Billetes) de tener botones
            if (prod.id !== 10 && prod.id !== 13) {
                const cantidades = ["10", "15", "20", "25", "Pers."]; 
                
                // Aquí agregamos la frase "Elige la cantidad..." ANTES de los botones
                botonesHTML = '<p class="qty-label">Elige la cantidad de rosas para tu ramo:</p><div class="qty-selector-container">';
                
                cantidades.forEach((cant, index) => {
                    const uniqueId = `prod-${prod.id}-opt-${index}`;
                    botonesHTML += `
                        <div class="radio-btn-group">
                            <input type="radio" name="seleccion_global_zaisa" value="${cant}" id="${uniqueId}" data-prod-name="${prod.titulo}" />
                            <label for="${uniqueId}">
                                <span>${cant}</span>
                                ${svgBars}
                            </label>
                        </div>
                    `;
                });
                botonesHTML += '</div>';
            }

            allCardsHTML += `
                <div class="card" id="card-${prod.id}">
                    <div class="card-img" style="background-image: url('imagenes/rosa${prod.id}.jpeg');"></div>
                    <div class="card-info">
                        <h3>${prod.titulo}</h3>
                        ${botonesHTML}
                        <a href="https://wa.me/522871251442?text=Hola,%20me%20interesa%20el%20${encodeURIComponent(prod.titulo)}" class="card-cta" id="cta-${prod.id}" target="_blank">Pedir por WhatsApp</a>
                    </div>
                </div>
            `;
        });
        gridContainer.innerHTML = allCardsHTML;

        // --- CAMBIO CLAVE 2: INICIALIZACIÓN GLOBAL ---
        const allRadioGroups = document.querySelectorAll(".radio-btn-group");
        new RadioButtonEffect(allRadioGroups);


        // Función WhatsApp
        function updateWhatsAppLink(radioInput) {
            const prodName = radioInput.getAttribute("data-prod-name");
            const cantidad = radioInput.value;
            const card = radioInput.closest('.card');
            const ctaBtn = card.querySelector('.card-cta');
            
            const mensaje = `Hola, me interesa el ${prodName} con la cantidad de: ${cantidad === "Pers." ? "Personalizada" : cantidad}`;
            ctaBtn.href = `https://wa.me/522871251442?text=${encodeURIComponent(mensaje)}`;
        }

        // --- 3. FONDO ANIMADO Y EXTRAS ---
        const imageContainer = document.getElementById("image-container");
        for (let i = 1; i <= 20; i++) {
            const img = document.createElement("img");
            img.src = `imagenes/rosa${i}.jpeg`;
            img.classList.add("image-item");
            img.style.left = `${Math.random() * 90}%`; 
            img.style.top = `${Math.random() * 80 + 5}%`; 
            img.style.animation = `float ${Math.random() * 4 + 3}s ease-in-out infinite, rotateAfterFloat 3s ease-in-out ${Math.random() * 2 + 2}s 1`;
            
            img.addEventListener("mouseover", () => img.style.animationPlayState = "paused");
            img.addEventListener("mouseout", () => img.style.animationPlayState = "running");
            img.addEventListener("click", (e) => {
                e.stopPropagation();
                openLightbox(img.src);
            });
            imageContainer.appendChild(img);
        }

        function openLightbox(imageSrc) {
            const lightboxOverlay = document.createElement("div");
            lightboxOverlay.classList.add("lightbox-overlay");
            const lightboxImage = document.createElement("img");
            lightboxImage.src = imageSrc;
            lightboxImage.classList.add("lightbox-image");
            lightboxOverlay.addEventListener("click", () => document.body.removeChild(lightboxOverlay));
            lightboxOverlay.appendChild(lightboxImage);
            document.body.appendChild(lightboxOverlay);
        }

        document.querySelectorAll('.faq-item summary').forEach(summary => {
            summary.addEventListener('click', (e) => {
                const details = summary.parentElement;
                if (details.hasAttribute('open')) {
                    e.preventDefault();
                    details.classList.add('closing');
                    setTimeout(() => {
                        details.removeAttribute('open');
                        details.classList.remove('closing');
                    }, 500);
                }
            });
        });
    </script>
</body>
</html>